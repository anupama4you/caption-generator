# ==============================================
# CAPTION GENERATOR - ENVIRONMENT VARIABLES
# ==============================================
# Copy this file to create your actual .env files
# Backend: backend/.env
# Frontend: frontend/.env

# ==============================================
# BACKEND ENVIRONMENT VARIABLES
# ==============================================

# ----------------------------------------------
# Database Configuration (Supabase PostgreSQL)
# ----------------------------------------------
# Get this from: https://supabase.com
# 1. Create account at supabase.com
# 2. Create new project
# 3. Go to Project Settings > Database
# 4. Copy the "Connection string" (URI format)
# 5. Replace the password with your actual password
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres?schema=public"

# Example format:
# DATABASE_URL="postgresql://postgres:your_password@db.abcdefghijklmn.supabase.co:5432/postgres?schema=public"

# ----------------------------------------------
# JWT Secrets (Authentication)
# ----------------------------------------------
# Generate secure random strings for these
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or use any random string generator
JWT_SECRET="your-super-secret-jwt-key-min-32-characters-change-this-to-random-string"
JWT_REFRESH_SECRET="your-refresh-token-secret-min-32-characters-change-this-to-random-string"

# ----------------------------------------------
# OpenAI API Configuration
# ----------------------------------------------
# Get this from: https://platform.openai.com
# 1. Create account or login at platform.openai.com
# 2. Go to API Keys section
# 3. Click "Create new secret key"
# 4. Copy the key immediately (you won't see it again!)
# 5. Make sure you have credits in your account
OPENAI_API_KEY="sk-proj-your-openai-api-key-here"

# Example format:
# OPENAI_API_KEY="sk-proj-ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890"

# ----------------------------------------------
# Server Configuration
# ----------------------------------------------
PORT=5000
NODE_ENV="development"

# Frontend URL (for CORS configuration)
# Development: http://localhost:5173
# Production: https://your-domain.com
FRONTEND_URL="http://localhost:5173"

# ----------------------------------------------
# Rate Limiting Configuration
# ----------------------------------------------
# Window in milliseconds (900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# FRONTEND ENVIRONMENT VARIABLES
# ==============================================

# Backend API URL
# Development: http://localhost:5000/api
# Production: https://your-backend-url.com/api
VITE_API_URL="http://localhost:5000/api"

# ==============================================
# DEPLOYMENT NOTES
# ==============================================

# For Render.com Backend Deployment:
# - Add all backend variables above to Render environment variables
# - Change NODE_ENV to "production"
# - Update FRONTEND_URL to your Vercel URL
# - Example: FRONTEND_URL="https://your-app.vercel.app"

# For Vercel Frontend Deployment:
# - Add VITE_API_URL to Vercel environment variables
# - Update to your Render backend URL
# - Example: VITE_API_URL="https://your-backend.onrender.com/api"

# ==============================================
# QUICK START CHECKLIST
# ==============================================

# Backend setup:
# [ ] 1. Copy this file to backend/.env
# [ ] 2. Fill in DATABASE_URL from Supabase
# [ ] 3. Generate and fill in JWT_SECRET and JWT_REFRESH_SECRET
# [ ] 4. Fill in OPENAI_API_KEY from OpenAI
# [ ] 5. Verify PORT and FRONTEND_URL are correct
# [ ] 6. Run: cd backend && npm install
# [ ] 7. Run: npx prisma generate
# [ ] 8. Run: npx prisma migrate dev
# [ ] 9. Run: npx prisma db seed
# [ ] 10. Run: npm run dev

# Frontend setup:
# [ ] 1. Copy VITE_API_URL to frontend/.env
# [ ] 2. Verify it matches your backend URL
# [ ] 3. Run: cd frontend && npm install
# [ ] 4. Run: npm run dev

# Test:
# [ ] Open http://localhost:5173
# [ ] Register a new account
# [ ] Generate a caption
# [ ] Check that analytics appear

# ==============================================
# SECURITY REMINDERS
# ==============================================

# ⚠️  NEVER commit actual .env files to Git
# ⚠️  NEVER share your API keys publicly
# ⚠️  Use strong, random strings for JWT secrets
# ⚠️  Rotate API keys regularly in production
# ⚠️  Monitor OpenAI API usage to avoid unexpected costs
# ⚠️  Enable 2FA on Supabase and OpenAI accounts
